{"version":3,"sources":["./src/app/options/options.page.html","./src/app/options/options-routing.module.ts","./src/app/options/options.module.ts","./src/app/options/options.page.scss","./src/app/options/options.page.ts"],"names":[],"mappings":"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","file":"options-options-module-es2015.js","sourcesContent":["export default \"\\n\\n<ion-tabs>\\n  <ion-tab-bar slot=\\\"bottom\\\" color=\\\"#F3F3F3\\\">\\n\\n  <ion-tab-button *ngIf=\\\"showIconAdmin == true\\\" selected=\\\"true\\\" tab=\\\"home\\\">\\n  <ion-icon name=\\\"analytics-outline\\\"></ion-icon>\\n  <ion-label>Dashboard</ion-label>\\n  </ion-tab-button>\\n  \\n  <ion-tab-button *ngIf=\\\"showIconUser == true\\\"  tab=\\\"holiday\\\">\\n    <ion-icon name=\\\"walk-outline\\\"></ion-icon>\\n        <ion-label>Holidays</ion-label>\\n    </ion-tab-button>\\n\\n  <ion-tab-button tab=\\\"messages-list\\\">\\n  <ion-icon name=\\\"chatbubble-ellipses-outline\\\"></ion-icon>\\n  <ion-label>Messages</ion-label>\\n  </ion-tab-button>\\n  \\n  \\n  <ion-tab-button tab=\\\"notifications\\\">\\n  \\n    <div>\\n\\n  \\n    <div class=\\\"orange-notif-circle\\\">{{countMsg}}</div>\\n\\n  <ion-icon class=\\\"bell-notif-icon\\\" name=\\\"notifications-outline\\\">\\n    \\n  </ion-icon>\\n</div>\\n  <ion-label>Notifications</ion-label>\\n\\n  </ion-tab-button>\\n  \\n  <ion-tab-button tab=\\\"profile\\\">\\n  <ion-icon name=\\\"person-outline\\\"></ion-icon>\\n  <ion-label>Profile</ion-label>\\n  </ion-tab-button>\\n  \\n  </ion-tab-bar>\\n  </ion-tabs>\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { OptionsPage } from './options.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: OptionsPage,\n    children:[\n      {path: '',loadChildren: () =>import('../home/home.module').then(m => m.HomePageModule)},\n      {path: 'home',loadChildren: () =>import('../home/home.module').then(m => m.HomePageModule)},\n      {path: 'messages-list',loadChildren: () =>import('../messages-list/messages-list.module').then(m => m.MessagesListPageModule)},\n      {path: 'notifications',loadChildren: () =>import('../notifications/notifications.module').then(m => m.NotificationsPageModule)},\n      {path: 'qr',loadChildren: () =>import('../qrattendance/qrattendance.module').then(m => m.QrattendancePageModule)},\n      {path: 'profile',loadChildren: () =>import('../profile/profile.module').then(m => m.ProfilePageModule)},\n      {path: 'holiday',loadChildren: () =>import('../conge/conge.module').then(m => m.CongePageModule)},\n\n\n\n    ]\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class OptionsPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { OptionsPageRoutingModule } from './options-routing.module';\n\nimport { OptionsPage } from './options.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    OptionsPageRoutingModule\n  ],\n  declarations: [OptionsPage]\n})\nexport class OptionsPageModule {}\n","export default \".orange-notif-circle {\\n  height: 15px;\\n  width: 15px;\\n  background-color: #FF0000;\\n  border-radius: 50%;\\n  margin-bottom: -1px;\\n  margin-left: 56%;\\n  color: white;\\n  font-size: 10px;\\n}\\n\\n.bell-notif-icon {\\n  transform: scale(2) !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvb3B0aW9ucy9vcHRpb25zLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLFlBQUE7RUFDQSxXQUFBO0VBQ0EseUJBQUE7RUFDQSxrQkFBQTtFQUNBLG1CQUFBO0VBQ0EsZ0JBQUE7RUFDQSxZQUFBO0VBQ0EsZUFBQTtBQUNKOztBQUNBO0VBQ0ksOEJBQUE7QUFFSiIsImZpbGUiOiJzcmMvYXBwL29wdGlvbnMvb3B0aW9ucy5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIub3JhbmdlLW5vdGlmLWNpcmNsZXtcclxuICAgIGhlaWdodDogMTVweDtcclxuICAgIHdpZHRoOiAxNXB4O1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI0ZGMDAwMDtcclxuICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcclxuICAgIG1hcmdpbi1ib3R0b206IC0xcHg7XHJcbiAgICBtYXJnaW4tbGVmdDogNTYlO1xyXG4gICAgY29sb3I6d2hpdGU7XHJcbiAgICBmb250LXNpemU6IDEwcHg7XHJcbn1cclxuLmJlbGwtbm90aWYtaWNvbntcclxuICAgIHRyYW5zZm9ybTogc2NhbGUoMikgIWltcG9ydGFudDtcclxufSJdfQ== */\";","import { Component, OnInit } from \"@angular/core\";\nimport { NotificationService } from \"../Services/notification.service\";\nimport { SharedService } from \"../Services/shared.service\";\nimport { WebsocketService } from \"../Services/websocket.service\";\nimport { AppSettings } from \"../Settings/AppSettings\";\n\n@Component({\n  selector: \"app-options\",\n  templateUrl: \"./options.page.html\",\n  styleUrls: [\"./options.page.scss\"],\n})\nexport class OptionsPage implements OnInit {\n  showIconAdmin: any;\n  showIconUser: any;\n  countMsg: number = 0;\n  public admin: Boolean = this.sharedService.verifyAdmin();\n  stompClient = this.webSocketService.connect();\n  constructor(\n    private sharedService: SharedService,\n    private notificationService: NotificationService,\n    private webSocketService: WebsocketService\n  ) {}\n  myNotification: any = [];\n  ngOnInit() {\n    this.notificationService.getNotifsByUser().subscribe((data) => {\n      data.forEach((element) => {\n        this.myNotification.push(element);\n        if (element.isSeen === 0) {\n          this.countMsg += 1;\n        }\n      });\n    });\n\n    if (this.admin) {\n      this.showIconAdmin = true;\n    } else {\n      this.showIconUser = true;\n    }\n  }\n\n  getNotification() {\n    let that = this;\n    this.stompClient.connect(\n      { user: AppSettings.details.username.toString() },\n      function (frame) {\n        that.stompClient.subscribe(\"/user/queue/reply\", function (message) {\n\n          let result = that.myNotification.find(\n            (obj) => {\n              return (\n                obj.idNotification === JSON.parse(message.body).idNotification\n              );\n            }\n          );\n          if (result !== undefined) {\n            var foundIndex = that.myNotification.findIndex(\n              (item) => item.idNotification == result.idNotification\n            );\n            that.myNotification[foundIndex].seen = 1;\n            that.countMsg--;\n            that.myNotification[foundIndex] = JSON.parse(message.body);\n          }\n        });\n      }\n    );\n  }\n}\n"],"sourceRoot":"webpack:///"}